# å–µå®‡å®™ - çŒ«å’ªå±•ç¤ºå¹³å°

åŸºäºåŸç”Ÿ JavaScript + Supabase + Vercel Serverless çš„çŒ«å’ªå±•ç¤ºå¹³å°ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ“± å“åº”å¼è®¾è®¡ï¼Œæ”¯æŒç§»åŠ¨ç«¯å’Œæ¡Œé¢ç«¯
- ğŸ–¼ï¸ å¤šå›¾ç‰‡è½®æ’­å±•ç¤º
- âœï¸ å®æ—¶ç¼–è¾‘çŒ«å’ªä¿¡æ¯
- ğŸ“· å›¾ç‰‡ä¸Šä¼ åˆ°äº‘å­˜å‚¨
- ğŸ¬ ç”Ÿæˆ GIF åŠ¨å›¾
- ğŸ—„ï¸ æ•°æ®æŒä¹…åŒ–å­˜å‚¨åœ¨ Supabase

## æŠ€æœ¯æ ˆ

- **å‰ç«¯**: åŸç”Ÿ JavaScript + HTML5 + CSS3
- **æ•°æ®åº“**: Supabase (PostgreSQL)
- **å­˜å‚¨**: Supabase Storage
- **åç«¯**: Vercel Serverless Functions
- **éƒ¨ç½²**: Vercel + GitHub Pages

## å¼€å‘ç¯å¢ƒè®¾ç½®

### 1. å®‰è£…ä¾èµ–

```bash
npm install
```

### 2. é…ç½®ç¯å¢ƒå˜é‡

å¤åˆ¶ `.env.example` ä¸º `.env` å¹¶å¡«å…¥ä½ çš„ Supabase å¯†é’¥:

```bash
cp .env.example .env
```

ç¼–è¾‘ `.env` æ–‡ä»¶:

```env
SUPABASE_URL=https://vswrhnmhumfxgfrwpfwc.supabase.co
SUPABASE_ANON_KEY=your_actual_anon_key_here
```

### 3. åˆå§‹åŒ– Supabase æ•°æ®åº“

åœ¨ Supabase SQL Editor ä¸­æ‰§è¡Œä»¥ä¸‹ SQL:

```sql
-- åˆ›å»º cats è¡¨
create table public.cats (
  id bigint generated by default as identity not null,
  name character varying not null,
  breed character varying null,
  age smallint null,
  sex smallint null,
  description text null,
  tags character varying null,
  created_at timestamp with time zone not null default now(),
  updated_at timestamp without time zone null default now(),
  constraint cat_pkey primary key (id)
) TABLESPACE pg_default;

-- åˆ›å»º Storage Bucket
insert into storage.buckets (id, name, public)
values ('cat-photos', 'cat-photos', true);

-- è®¾ç½®å­˜å‚¨æƒé™ï¼ˆå…è®¸æ‰€æœ‰äººä¸Šä¼ å’Œè¯»å–ï¼‰
create policy "Public Access"
on storage.objects for all
using (bucket_id = 'cat-photos');
```

### 4. æœ¬åœ°å¼€å‘

```bash
npm run dev
```

è®¿é—® http://localhost:3000

### 5. éƒ¨ç½²åˆ° Vercel

```bash
npm run deploy
```

æˆ–è€…é€šè¿‡ Vercel Dashboard è¿æ¥ä½ çš„ GitHub ä»“åº“è‡ªåŠ¨éƒ¨ç½²ã€‚

## é¡¹ç›®ç»“æ„

```
miao/
â”œâ”€â”€ index.html          # ä¸»é¡µé¢
â”œâ”€â”€ cat-card.html       # æ—§ç‰ˆé¡µé¢ï¼ˆä½¿ç”¨ localStorageï¼‰
â”œâ”€â”€ api/                # Serverless API
â”‚   â”œâ”€â”€ cats.js        # çŒ«å’ªæ•°æ® CRUD API
â”‚   â””â”€â”€ upload.js      # å›¾ç‰‡ä¸Šä¼  API
â”œâ”€â”€ package.json        # é¡¹ç›®é…ç½®
â”œâ”€â”€ vercel.json         # Vercel éƒ¨ç½²é…ç½®
â”œâ”€â”€ .env.example        # ç¯å¢ƒå˜é‡ç¤ºä¾‹
â””â”€â”€ README.md          # é¡¹ç›®æ–‡æ¡£
```

## API ç«¯ç‚¹

### GET /api/cats
è·å–æ‰€æœ‰çŒ«å’ªæ•°æ®

### POST /api/cats
åˆ›å»ºæ–°çŒ«å’ª

### PUT /api/cats
æ›´æ–°çŒ«å’ªä¿¡æ¯

### DELETE /api/cats
åˆ é™¤çŒ«å’ª

### POST /api/upload
ä¸Šä¼ å›¾ç‰‡åˆ° Supabase Storage

## æ•°æ®åº“è¡¨ç»“æ„

### cats è¡¨

| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| id | bigint | ä¸»é”®ï¼Œè‡ªå¢ |
| name | varchar | çŒ«å’ªåå­— |
| breed | varchar | å“ç§ |
| age | smallint | å¹´é¾„ |
| sex | smallint | æ€§åˆ« (1=å…¬, 2=æ¯) |
| description | text | æè¿° |
| tags | varchar | æ ‡ç­¾ï¼ˆé€—å·åˆ†éš”ï¼‰ |
| created_at | timestamptz | åˆ›å»ºæ—¶é—´ |
| updated_at | timestamp | æ›´æ–°æ—¶é—´ |

## License

MIT
